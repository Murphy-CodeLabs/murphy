---
title: Bubblegum Legacy Form
description: A Metaplex Bubblegum v1 (legacy) compressed NFT creation component with shadcn UI styling
---

<PreviewComponent
  name={"Bubblegum Legacy Form"}
  v0JsonFileName={"bubblegum-legacy-form"}
>
  <BubblegumLegacyForm className="max-w-md" />
</PreviewComponent>

## Installation

<Steps>
  <Step>
    Install dependencies

    Start by installing required Metaplex Bubblegum v1 dependencies

    <DependenciesInstallCommands packageUrl={"@solana/web3.js @solana/wallet-adapter-react @metaplex-foundation/umi-bundle-defaults @metaplex-foundation/umi-signer-wallet-adapters @metaplex-foundation/mpl-token-metadata @metaplex-foundation/mpl-bubblegum @metaplex-foundation/umi"}/>

  </Step>

  <Step>
    Add Wallet Provider

    Make sure you have added the Wallet Provider to your application. If not, follow the steps in the [Connect Wallet Button](/docs/onchainkit/connect-wallet-button) guide first.

  </Step>

  <Step>
    Add Bubblegum Legacy Form

    <InstallationCommands
      packageUrl={`${process.env.NEXT_PUBLIC_BASE_URL}/r/bubblegum-legacy-form.json`}
    />

  </Step>
</Steps>

## Basic Usage

```tsx
import { BubblegumLegacyForm } from "@/components/ui/murphy/bubblegum-legacy-form";
```

```tsx
export default function MyPage() {
  return (
    <div>
      <h1 className="text-xl font-bold mb-2">Create Legacy Compressed NFT</h1>
      <BubblegumLegacyForm className="max-w-md" />
    </div>
  );
}
```

## Features

- **Legacy Bubblegum v1**: Uses the original Bubblegum protocol for compressed NFTs
- **Merkle Tree Management**: Create new trees or use existing ones
- **Creator Configuration**: Multiple creators with customizable royalty shares
- **Collection Support**: Optional collection integration
- **Tree Parameters**: Configurable max depth and buffer size
- **Real-time Network Detection**: Automatically detects devnet/mainnet
- **Multi-stage UI**: Input, confirmation, success, error states
- **Transaction Links**: Direct links to view transactions and trees on explorers
- **Error Handling**: Comprehensive error handling with retry capability
- **Wallet Integration**: Seamless integration with Solana wallet adapters

## Advanced Usage

You can specify a merkle tree and handle creation callbacks:

```tsx
export default function MyPage() {
  const handleNFTCreated = (nftAddress: string, signature: string, merkleTree?: string) => {
    console.log(`Legacy NFT created: ${nftAddress}`);
    console.log(`Transaction: ${signature}`);
    console.log(`Merkle Tree: ${merkleTree}`);
  };

  return (
    <div>
      <h1 className="text-xl font-bold mb-2">Create Legacy Compressed NFT</h1>
      <BubblegumLegacyForm
        className="max-w-md"
        merkleTree="YourMerkleTreeAddress"
        collectionMint="YourCollectionMintAddress"
        onNFTCreated={handleNFTCreated}
      />
    </div>
  );
}
```

## Props

| Prop | Type | Default | Description |
| --- | --- | --- | --- |
| `merkleTree` | `string` | `undefined` | Pre-populate merkle tree address |
| `collectionMint` | `string` | `undefined` | Pre-populate collection mint address |
| `onNFTCreated` | `(nftAddress: string, signature: string, merkleTree?: string) => void` | `undefined` | Callback fired when NFT is created |
| `className` | `string` | `undefined` | Additional CSS classes |

## Configuration Options

### NFT Metadata
- **Name**: Display name of the compressed NFT
- **Symbol**: Short symbol for the NFT
- **URI**: Metadata JSON URI
- **Collection**: Optional existing collection to add NFT to

### Merkle Tree Configuration
- **Use Existing Tree**: Toggle to use existing tree vs create new one
- **Merkle Tree Address**: Address of existing tree (if using existing)
- **Max Depth**: Tree depth for new tree (3-30, higher = more NFTs possible)
- **Max Buffer Size**: Buffer size (8-2048, higher = more concurrent operations)

### Creators
- **Address**: Creator wallet address
- **Share**: Percentage share of royalties (must sum to 100%)
- **Verified**: Whether creator signature is verified

## Legacy vs Modern

| Feature | Bubblegum v1 (Legacy) | Bubblegum v2 (Current) |
| --- | --- | --- |
| **Performance** | Slower | Optimized |
| **Features** | Basic compression | Enhanced compression + features |
| **Support** | Legacy support only | Actively maintained |
| **Compatibility** | Older tools | Modern ecosystem |

## Migration Notice

⚠️ **Important**: Bubblegum v1 is legacy and no longer actively developed. For new projects, consider using [Bubblegum v2](/docs/onchainkit/Metaplex/Bubblegum-v2/mint-cnft-form) instead.

## Notes

- Requires Solana wallet connection
- Uses Metaplex Bubblegum v1 (legacy) protocol
- Automatically handles transaction signing and confirmation
- Creator shares must sum to exactly 100%
- Merkle tree parameters affect storage cost and capacity
- Legacy version has limited support and features compared to v2

## Related Components

- [Mint CNFT Form](/docs/onchainkit/Metaplex/Bubblegum-v2/mint-cnft-form) - Modern Bubblegum v2
- [Create Merkle Tree Form](/docs/onchainkit/Metaplex/Bubblegum-v2/create-merkleTree-form) - Create trees
- [Create Collection Form](/docs/onchainkit/Metaplex/Token-Metadata/create-collection-form) - Create collections
- [Connect Wallet Button](/docs/onchainkit/connect-wallet-button) - Wallet connection